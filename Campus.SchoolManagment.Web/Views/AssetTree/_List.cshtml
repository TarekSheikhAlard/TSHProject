@model IEnumerable<Campus.School.Management.Logic.BusinessLayer.ViewModel.AssetTreeViewModel>

@using Campus.School.Management.Logic.Resources

@if (ViewBag.Parentlevel != null)
{
    <input id="Parentlevel" type="hidden" value="@ViewBag.Parentlevel" />
  
}

<table class="ui selectable  single line Striped celled  compact table" id="myTable">
    <thead>
        <tr class="">
            <th>@GeneralResource.Actions</th>
            <th>

                @Html.DisplayNameFor(model => model.AssetNameAR)
            </th>
            <th>

                @Html.DisplayNameFor(model => model.AssetNameEN)
            </th>

            <th>

                @Html.DisplayNameFor(model => model.AssetTreeCode)
            </th>
          
            @*@if (Model.Count() > 0 && (Model.FirstOrDefault().AssetTreeLevel == 3 || Model.FirstOrDefault().AssetTreeLevel == 4|| Model.FirstOrDefault().AssetTreeLevel == 5))
            {*@
                <th>

                    @Html.DisplayNameFor(model => model.Notes)
                </th>
              
            @*}*@
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
            {
        <tr>
            <td>
                <a href="#" onclick="Edit(@item.AssetTreeID);" class="editDialog"> <i class="feather icon-edit-1"></i></a>

                <a href="#" onclick="Delete(@item.AssetTreeID);" class="editDialog"> <i class="feather red icon-trash"></i></a>
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AssetNameAR)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AssetNameEN)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AssetTreeCode)
            </td>


            @*@if (item.AssetTreeLevel == 3 || item.AssetTreeLevel == 4||item.AssetTreeLevel==5)
        {*@
            <td>
                @Html.DisplayFor(modelItem => item.Notes)
            </td>

            @*}*@


        </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        function InitIndex() {
            $('#myTable').DataTable();
            var Msg = '@TempData["Msg"]';
            if (Msg == 1) {
                GetAssetTreeIndex();
                toastr.success("@GeneralResource.toastrSave")
            }
            else if (Msg == 2) {
                GetAssetTreeIndex();
                toastr.success("@GeneralResource.toastrEdit")
            }
            else if (Msg == 3) {
                GetAssetTreeIndex();
                toastr.success("@GeneralResource.toastrDelete")
            }
            else if (Msg == 4) {
                toastr.error("@GeneralResource.toastrOperationFaild")
            }

        };
        InitIndex();


    });
</script>